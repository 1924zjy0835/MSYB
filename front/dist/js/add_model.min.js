function AddModel(){}AddModel.prototype.listenUploadFileEvent=function(){var o=$("#model-thumbnail-btn");o.change(function(){var n=o[0].files[0],t=new FormData;t.append("file",n),msybajax.post({url:"/cms/upload/file/",data:t,processData:!1,contentType:!1,success:function(n){200===n.code&&(n=n.data.url,$("#model-thumbnail-form").val(n))}})})},AddModel.prototype.listenPublishModel=function(n){$("#submit-btn").click(function(){var n=$("input[name='thumbnail']").val();msybajax.post({url:"/cms/add/model/",data:{thumbnail:n},success:function(n){200===n.code&&msybalert.alertSuccess("哇哦~您的模特上传成功了诶~",function(){window.location.reload()})}})})},AddModel.prototype.run=function(){this.listenUploadFileEvent(),this.listenPublishModel()},$(function(){(new AddModel).run()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRkX21vZGVsLm1pbi5qcyIsInNvdXJjZXMiOlsiYWRkX21vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIEFkZE1vZGVsKCkge1xyXG5cclxufVxyXG5cclxuLy8g5bCG5qih54m55LiK5Lyg6Iez5pys5Zyw5pyN5Yqh5ZmoXHJcbkFkZE1vZGVsLnByb3RvdHlwZS5saXN0ZW5VcGxvYWRGaWxlRXZlbnQgPSBmdW5jdGlvbigpIHtcclxuICAgIC8vIOiOt+WPlueahOaYr+S4gOS4qumbhuWQiFxyXG4gICAgdmFyIG1vZGVsVGh1bWJuYWlsQnRuID0gJChcIiNtb2RlbC10aHVtYm5haWwtYnRuXCIpO1xyXG4gICAgbW9kZWxUaHVtYm5haWxCdG4uY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyDlm6DmraTmiJHku6zpnIDopoHmib7liLDmu6HotrPmnaHku7bnmoTnrKzkuIDkuKrmlofku7ZcclxuICAgICAgICAvLyB2YXIgZmlsZSA9IC5maWxlcygwKTtcclxuICAgICAgICB2YXIgZmlsZSA9IG1vZGVsVGh1bWJuYWlsQnRuWzBdLmZpbGVzWzBdO1xyXG4gICAgICAgIC8vIOmcgOimgeWwhuaWh+S7tuWtmOWCqOWcqEZvcm1EYXRh5LitXHJcbiAgICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgLy8g5LiK5Lyg6Iez5pys5Zyw5pyN5Yqh5Zmo55qE5o6l5Y+j5piv6YCa6L+HZmlsZVxyXG4gICAgICAgIGZvcm1kYXRhLmFwcGVuZCgnZmlsZScsZmlsZSk7XHJcbiAgICAgICAgbXN5YmFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Ntcy91cGxvYWQvZmlsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1kYXRhLFxyXG4gICAgICAgICAgICAvLyDkuIrkvKDmlofku7bov5jpnIDopoHkuIrkvKDku6XkuIvkuKTkuKrlj4LmlbDvvIzlpoLmnpzkuI3kuIrkvKDov5nkuKTkuKrlj4LmlbDvvIzmlofku7blsLHkuI3og73kuIrkvKDmiJDlip9cclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzogZmFsc2UsIC8vIOWRiuiviUpxdWVyeei/meS4quaWh+S7tuWwseS4jemcgOimgeWGjeWOu+WkhOeQhuS6hu+8jOWboOS4uuWug+aYr+S4gOS4quaWh+S7tuS4jeaYr+S4gOS4quaZrumAmueahOWtl+espuS4slxyXG4gICAgICAgICAgICAnY29udGVudFR5cGUnOmZhbHNlLCAvLyDlkYror4nlroPkuI3opoHlho3ljrvorr7nva7nsbvlnovkuobvvIzlsLHnlKjov5nkuKrmlofku7bnmoTnsbvlnovlsLHlj6/ku6XkuoZcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICAvLyDojrflj5bovpPlhaXmoYZcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGh1bWJuYWlsRm9ybSA9ICQoXCIjbW9kZWwtdGh1bWJuYWlsLWZvcm1cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5Li66L6T5YWl5qGG6K6+572u5YC8XHJcbiAgICAgICAgICAgICAgICAgICAgdGh1bWJuYWlsRm9ybS52YWwodXJsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5cclxuQWRkTW9kZWwucHJvdG90eXBlLmxpc3RlblB1Ymxpc2hNb2RlbCA9IGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgc3VibWl0QnRuID0gJChcIiNzdWJtaXQtYnRuXCIpO1xyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgIHZhciB0aHVtYm5haWwgPSAkKFwiaW5wdXRbbmFtZT0ndGh1bWJuYWlsJ11cIikudmFsKCk7XHJcbiAgICAgICAvLyDov5nmoLflkI7nq6/lvpfliLDnmoTlgLzkvJrlj5HnlJ/mlLnlj5hcclxuXHJcbiAgICAgICBtc3liYWpheC5wb3N0KHtcclxuICAgICAgICAgICAndXJsJzogJy9jbXMvYWRkL21vZGVsLycsXHJcbiAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICd0aHVtYm5haWwnOiB0aHVtYm5haWxcclxuICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgbXN5YmFsZXJ0LmFsZXJ0U3VjY2Vzcygn5ZOH5ZOmfuaCqOeahOaooeeJueS4iuS8oOaIkOWKn+S6huivtn4nLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9XHJcbiAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbkFkZE1vZGVsLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblVwbG9hZEZpbGVFdmVudCgpO1xyXG4gICAgc2VsZi5saXN0ZW5QdWJsaXNoTW9kZWwoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIGFkZE1vZGVsID0gbmV3IEFkZE1vZGVsKCk7XHJcbiAgICBhZGRNb2RlbC5ydW4oKTtcclxufSk7Il0sIm5hbWVzIjpbIkFkZE1vZGVsIiwicHJvdG90eXBlIiwibGlzdGVuVXBsb2FkRmlsZUV2ZW50IiwibW9kZWxUaHVtYm5haWxCdG4iLCIkIiwiY2hhbmdlIiwiZmlsZSIsImZpbGVzIiwiZm9ybWRhdGEiLCJGb3JtRGF0YSIsImFwcGVuZCIsIm1zeWJhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwic3VjY2VzcyIsInJlc3VsdCIsInZhbCIsImxpc3RlblB1Ymxpc2hNb2RlbCIsImV2ZW50IiwiY2xpY2siLCJ0aHVtYm5haWwiLCJtc3liYWxlcnQiLCJhbGVydFN1Y2Nlc3MiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInJ1biIsInRoaXMiXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLFlBS1RBLFNBQVNDLFVBQVVDLHNCQUF3QixXQUV2QyxJQUFJQyxFQUFvQkMsRUFBRSx3QkFDMUJELEVBQWtCRSxPQUFPLFdBR3JCLElBQUlDLEVBQU9ILEVBQWtCLEdBQUdJLE1BQU0sR0FFbENDLEVBQVcsSUFBSUMsU0FFbkJELEVBQVNFLE9BQU8sT0FBT0osR0FDdkJLLFNBQVNDLEtBQUssQ0FDVkMsSUFBTyxvQkFDUEMsS0FBUU4sRUFFUk8sYUFBZSxFQUNmQyxhQUFjLEVBQ2RDLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxPQUNUTCxFQUFNSyxFQUFhLEtBQU8sSUFFVmQsRUFBRSx5QkFFUmUsSUFBSU4sVUFRdENiLFNBQVNDLFVBQVVtQixtQkFBcUIsU0FBU0MsR0FFN0JqQixFQUFFLGVBQ1JrQixNQUFNLFdBQ2IsSUFBSUMsRUFBWW5CLEVBQUUsMkJBQTJCZSxNQUc3Q1IsU0FBU0MsS0FBSyxDQUNWQyxJQUFPLGtCQUNQQyxLQUFRLENBQ0pTLFVBQWFBLEdBRWpCTixRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYk0sVUFBVUMsYUFBYSxpQkFBa0IsV0FDckNDLE9BQU9DLFNBQVNDLGlCQVN2QzVCLFNBQVNDLFVBQVU0QixJQUFNLFdBQ1ZDLEtBQ041Qix3QkFETTRCLEtBRU5WLHNCQUdUaEIsRUFBRSxZQUNpQixJQUFJSixVQUNWNkIiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
