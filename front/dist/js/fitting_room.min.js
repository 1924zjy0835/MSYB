function Photoes(){}Photoes.prototype.listenUploadPhotoesEvent=function(){var n=$("#upload-btn");n.change(function(){var o=n[0].files[0],t=new FormData;t.append("file",o),msybajax.post({url:"/upload/person/photo/",data:t,processData:!1,contentType:!1,success:function(o){200===o.code?(window.messageBox.show("亲~您上传的个人照片已经上传成功~"),window.location.reload()):window.messageBox.showError("不好意思亲~您的照片没有上传成功")}})})},Photoes.prototype.listenDropPersonalPhotoEvent=function(){$(".drop-btn").click(function(){var o=$(this).parent().siblings().attr("data-name");msybajax.post({url:"/drop/personal/photo/",data:{img_url:o},success:function(o){200===o.code&&(window.messageBox.showSuccess("删除照片成功~3秒后自动刷新哦~"),setTimeout(function(){window.location.reload()},3e3))}})})},Photoes.prototype.run=function(){this.listenUploadPhotoesEvent(),this.listenDropPersonalPhotoEvent()},$(function(){(new Photoes).run()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZml0dGluZ19yb29tLm1pbi5qcyIsInNvdXJjZXMiOlsiZml0dGluZ19yb29tLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFBob3RvZXMoKSB7XHJcblxyXG59XHJcblxyXG4vLyDnm5HlkKzkuIrkvKDkuKrkurrnhafniYfnmoTkuovku7ZcclxuUGhvdG9lcy5wcm90b3R5cGUubGlzdGVuVXBsb2FkUGhvdG9lc0V2ZW50ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHVwbG9hZEJ0biA9ICQoXCIjdXBsb2FkLWJ0blwiKTtcclxuICAgIHVwbG9hZEJ0bi5jaGFuZ2UoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBmaWxlID0gdXBsb2FkQnRuWzBdLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XHJcblxyXG4gICAgICAgIG1zeWJhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy91cGxvYWQvcGVyc29uL3Bob3RvLycsXHJcbiAgICAgICAgICAgICdkYXRhJzogZm9ybURhdGEsXHJcbiAgICAgICAgICAgIC8vIOS4iuS8oOaWh+S7tui/mOmcgOimgeS4iuS8oOS7peS4i+S4pOS4quWPguaVsO+8jOWmguaenOS4jeS4iuS8oOi/meS4pOS4quWPguaVsO+8jOaWh+S7tuWwseS4jeiDveS4iuS8oOaIkOWKn1xyXG4gICAgICAgICAgICAncHJvY2Vzc0RhdGEnOiBmYWxzZSwgLy8g5ZGK6K+JSnF1ZXJ56L+Z5Liq5paH5Lu25bCx5LiN6ZyA6KaB5YaN5Y675aSE55CG5LqG77yM5Zug5Li65a6D5piv5LiA5Liq5paH5Lu25LiN5piv5LiA5Liq5pmu6YCa55qE5a2X56ym5LiyXHJcbiAgICAgICAgICAgICdjb250ZW50VHlwZSc6IGZhbHNlLCAvLyDlkYror4nlroPkuI3opoHlho3ljrvorr7nva7nsbvlnovkuobvvIzlsLHnlKjov5nkuKrmlofku7bnmoTnsbvlnovlsLHlj6/ku6XkuoZcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZhciB1cmwgPSByZXN1bHRbJ2RhdGEnXVsnaW1nX3VybCddO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3coXCLkurJ+5oKo5LiK5Lyg55qE5Liq5Lq654Wn54mH5bey57uP5LiK5Lyg5oiQ5YqfflwiKTtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd0Vycm9yKFwi5LiN5aW95oSP5oCd5LqyfuaCqOeahOeFp+eJh+ayoeacieS4iuS8oOaIkOWKn1wiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIOebkeWQrOWIoOmZpOS4quS6uueFp+eJh+eahOS6i+S7tlxyXG5QaG90b2VzLnByb3RvdHlwZS5saXN0ZW5Ecm9wUGVyc29uYWxQaG90b0V2ZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgZHJvcEJ0biA9ICQoXCIuZHJvcC1idG5cIik7XHJcbiAgICBkcm9wQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XHJcbiAgICAgICAgdmFyIGltZyA9IGN1cnJlbnRCdG4ucGFyZW50KCkuc2libGluZ3MoKTtcclxuICAgICAgICB2YXIgaW1nX3VybCA9IGltZy5hdHRyKFwiZGF0YS1uYW1lXCIpO1xyXG4gICAgICAgIG1zeWJhamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogJy9kcm9wL3BlcnNvbmFsL3Bob3RvLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ2ltZ191cmwnOiBpbWdfdXJsLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2VzcyhcIuWIoOmZpOeFp+eJh+aIkOWKn34z56eS5ZCO6Ieq5Yqo5Yi35paw5ZOmflwiKTtcclxuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sMzAwMCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuXHJcbi8vIOebkeWQrOaPkOWPluS6uuS9kzNE5qih5Z6L55qE5LqL5Lu2XHJcblxyXG4vLyDnm5HlkKzkv53lrZjmqKHlnovnmoTkuovku7ZcclxuXHJcbi8vIOebkeWQrOWIoOmZpOaooeWei+eahOS6i+S7tlxyXG5cclxuXHJcbi8vIOebkeWQrOS9v+eUqOivpeaooeWei+eahOS6i+S7tlxyXG5cclxuUGhvdG9lcy5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5VcGxvYWRQaG90b2VzRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuRHJvcFBlcnNvbmFsUGhvdG9FdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgcGhvdG9lcyA9IG5ldyBQaG90b2VzKCk7XHJcbiAgICBwaG90b2VzLnJ1bigpO1xyXG59KTsiXSwibmFtZXMiOlsiUGhvdG9lcyIsInByb3RvdHlwZSIsImxpc3RlblVwbG9hZFBob3RvZXNFdmVudCIsInVwbG9hZEJ0biIsIiQiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwibXN5YmFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJzdWNjZXNzIiwicmVzdWx0Iiwid2luZG93IiwibWVzc2FnZUJveCIsInNob3ciLCJsb2NhdGlvbiIsInJlbG9hZCIsInNob3dFcnJvciIsImxpc3RlbkRyb3BQZXJzb25hbFBob3RvRXZlbnQiLCJjbGljayIsImltZ191cmwiLCJ0aGlzIiwicGFyZW50Iiwic2libGluZ3MiLCJhdHRyIiwic2hvd1N1Y2Nlc3MiLCJzZXRUaW1lb3V0IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxXQUtUQSxRQUFRQyxVQUFVQyx5QkFBMkIsV0FDekMsSUFDSUMsRUFBWUMsRUFBRSxlQUNsQkQsRUFBVUUsT0FBTyxXQUNiLElBQUlDLEVBQU9ILEVBQVUsR0FBR0ksTUFBTSxHQUMxQkMsRUFBVyxJQUFJQyxTQUNuQkQsRUFBU0UsT0FBTyxPQUFRSixHQUV4QkssU0FBU0MsS0FBSyxDQUNWQyxJQUFPLHdCQUNQQyxLQUFRTixFQUVSTyxhQUFlLEVBQ2ZDLGFBQWUsRUFDZkMsUUFBVyxTQUFVQyxHQUNNLE1BQW5CQSxFQUFhLE1BRWJDLE9BQU9DLFdBQVdDLEtBQUsscUJBQ3ZCRixPQUFPRyxTQUFTQyxVQUVoQkosT0FBT0MsV0FBV0ksVUFBVSwwQkFRaER4QixRQUFRQyxVQUFVd0IsNkJBQStCLFdBRS9CckIsRUFBRSxhQUNSc0IsTUFBTSxXQUNWLElBRUlDLEVBRmF2QixFQUFFd0IsTUFDRUMsU0FBU0MsV0FDWkMsS0FBSyxhQUN2QnBCLFNBQVNDLEtBQUssQ0FDVkMsSUFBTyx3QkFDUEMsS0FBUSxDQUNKYSxRQUFXQSxHQUVmVixRQUFXLFNBQVVDLEdBQ0ssTUFBbkJBLEVBQWEsT0FDWkMsT0FBT0MsV0FBV1ksWUFBWSxvQkFDOUJDLFdBQVcsV0FDUGQsT0FBT0csU0FBU0MsVUFDbEIsWUFpQnRCdkIsUUFBUUMsVUFBVWlDLElBQU0sV0FDVE4sS0FDTjFCLDJCQURNMEIsS0FFTkgsZ0NBR1RyQixFQUFFLFlBQ2dCLElBQUlKLFNBQ1ZrQyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
