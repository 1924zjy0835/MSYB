function ClothOrder(){}ClothOrder.prototype.listenZFEvent=function(){$("#buy-btn").click(function(t){t.preventDefault();var e=$("input[name='goodsname']").val(),n=$("input[name='istype']:checked").val(),o=$("input[name='notify_url']").val(),i=$("input[name='orderid']").val(),r=$("input[name='price']").val(),t=$("input[name='return_url']").val();msybajax.post({url:"/cloth/order/key/",data:{goodsname:e,istype:n,notify_url:o,orderid:i,price:r,return_url:t},success:function(t){200===t.code&&(t=t.data.key,$("input[name='key']").val(t),$("#pay-form").submit())}}),msybajax.post({url:"/notify/url/",data:{istype:n,orderid:i}})})},ClothOrder.prototype.listenIsNotBuyEvent=function(){$("#buy-btn").click(function(){var t=$(this).parent(),e=t.attr("data-auth"),n=t.attr("data-id");setTimeout(function(){window.location.reload()},8e3),setTimeout(function(){msybajax.post({url:"/profile/view/",data:{buyer:e,status:n},success:function(t){200===t.code&&window.messageBox.showSuccess("恭喜您支付成功啦~")}})},1e4)})},ClothOrder.prototype.run=function(){this.listenZFEvent(),this.listenIsNotBuyEvent()},$(function(){(new ClothOrder).run()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2xvdGhfb3JkZXIubWluLmpzIiwic291cmNlcyI6WyJjbG90aF9vcmRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyDllYblk4Hor6bmg4VcclxuZnVuY3Rpb24gQ2xvdGhPcmRlcigpIHtcclxuXHJcbn1cclxuXHJcbkNsb3RoT3JkZXIucHJvdG90eXBlLmxpc3RlblpGRXZlbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgYnV5QnRuID0gJChcIiNidXktYnRuXCIpO1xyXG4gICAgYnV5QnRuLmNsaWNrKGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgdmFyIGdvb2RzbmFtZSA9ICQoXCJpbnB1dFtuYW1lPSdnb29kc25hbWUnXVwiKS52YWwoKTtcclxuICAgICAgICB2YXIgaXN0eXBlID0gJChcImlucHV0W25hbWU9J2lzdHlwZSddOmNoZWNrZWRcIikudmFsKCk7XHJcbiAgICAgICAgdmFyIG5vdGlmeSA9ICQoXCJpbnB1dFtuYW1lPSdub3RpZnlfdXJsJ11cIikudmFsKCk7XHJcbiAgICAgICAgdmFyIG9yZGVyaWQgPSAkKFwiaW5wdXRbbmFtZT0nb3JkZXJpZCddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciBwcmljZSA9ICQoXCJpbnB1dFtuYW1lPSdwcmljZSddXCIpLnZhbCgpO1xyXG4gICAgICAgIHZhciByZXR1cm5fdXJsID0gJChcImlucHV0W25hbWU9J3JldHVybl91cmwnXVwiKS52YWwoKTtcclxuXHJcbiAgICAgICAgbXN5YmFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL2Nsb3RoL29yZGVyL2tleS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdnb29kc25hbWUnOiBnb29kc25hbWUsXHJcbiAgICAgICAgICAgICAgICAnaXN0eXBlJzogaXN0eXBlLFxyXG4gICAgICAgICAgICAgICAgJ25vdGlmeV91cmwnOiBub3RpZnksXHJcbiAgICAgICAgICAgICAgICAnb3JkZXJpZCc6IG9yZGVyaWQsXHJcbiAgICAgICAgICAgICAgICAncHJpY2UnOiBwcmljZSxcclxuICAgICAgICAgICAgICAgICdyZXR1cm5fdXJsJzogcmV0dXJuX3VybFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleSA9IHJlc3VsdFsnZGF0YSddWydrZXknXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIga2V5SW5wdXQgPSAkKFwiaW5wdXRbbmFtZT0na2V5J11cIik7XHJcbiAgICAgICAgICAgICAgICAgICAga2V5SW5wdXQudmFsKGtleSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJChcIiNwYXktZm9ybVwiKS5zdWJtaXQoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBtc3liYWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvbm90aWZ5L3VybC8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdpc3R5cGUnOiBpc3R5cGUsXHJcbiAgICAgICAgICAgICAgICAnb3JkZXJpZCc6IG9yZGVyaWRcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuQ2xvdGhPcmRlci5wcm90b3R5cGUubGlzdGVuSXNOb3RCdXlFdmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBidXlCdG4gPSAkKFwiI2J1eS1idG5cIik7XHJcblxyXG4gICAgYnV5QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZGl2ID0gJCh0aGlzKS5wYXJlbnQoKTtcclxuICAgICAgICB2YXIgYnV5ZXIgPSBkaXYuYXR0cihcImRhdGEtYXV0aFwiKTtcclxuICAgICAgICB2YXIgc3RhdHVzID0gZGl2LmF0dHIoXCJkYXRhLWlkXCIpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgIH0sIDgwMDApO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbXN5YmFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICAgICAndXJsJzogJy9wcm9maWxlL3ZpZXcvJyxcclxuICAgICAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgICAgICdidXllcic6IGJ1eWVyLFxyXG4gICAgICAgICAgICAgICAgICAgICdzdGF0dXMnOiBzdGF0dXNcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2VzcyhcIuaBreWWnOaCqOaUr+S7mOaIkOWKn+WVpn5cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LCAxMDAwMCk7XHJcblxyXG4gICAgfSlcclxufTtcclxuXHJcblxyXG5DbG90aE9yZGVyLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlblpGRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuSXNOb3RCdXlFdmVudCgpO1xyXG59O1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgY2xvdGhvcmRlciA9IG5ldyBDbG90aE9yZGVyKCk7XHJcbiAgICBjbG90aG9yZGVyLnJ1bigpO1xyXG59KTsiXSwibmFtZXMiOlsiQ2xvdGhPcmRlciIsInByb3RvdHlwZSIsImxpc3RlblpGRXZlbnQiLCIkIiwiY2xpY2siLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZ29vZHNuYW1lIiwidmFsIiwiaXN0eXBlIiwibm90aWZ5Iiwib3JkZXJpZCIsInByaWNlIiwicmV0dXJuX3VybCIsIm1zeWJhamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJub3RpZnlfdXJsIiwic3VjY2VzcyIsInJlc3VsdCIsImtleSIsInN1Ym1pdCIsImxpc3RlbklzTm90QnV5RXZlbnQiLCJkaXYiLCJ0aGlzIiwicGFyZW50IiwiYnV5ZXIiLCJhdHRyIiwic3RhdHVzIiwic2V0VGltZW91dCIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwibWVzc2FnZUJveCIsInNob3dTdWNjZXNzIiwicnVuIl0sIm1hcHBpbmdzIjoiQUFDQSxTQUFTQSxjQUlUQSxXQUFXQyxVQUFVQyxjQUFnQixXQUNwQkMsRUFBRSxZQUNSQyxNQUFNLFNBQVVDLEdBQ25CQSxFQUFNQyxpQkFDTixJQUFJQyxFQUFZSixFQUFFLDJCQUEyQkssTUFDekNDLEVBQVNOLEVBQUUsZ0NBQWdDSyxNQUMzQ0UsRUFBU1AsRUFBRSw0QkFBNEJLLE1BQ3ZDRyxFQUFVUixFQUFFLHlCQUF5QkssTUFDckNJLEVBQVFULEVBQUUsdUJBQXVCSyxNQUNqQ0ssRUFBYVYsRUFBRSw0QkFBNEJLLE1BRS9DTSxTQUFTQyxLQUFLLENBQ1ZDLElBQU8sb0JBQ1BDLEtBQVEsQ0FDSlYsVUFBYUEsRUFDYkUsT0FBVUEsRUFDVlMsV0FBY1IsRUFDZEMsUUFBV0EsRUFDWEMsTUFBU0EsRUFDVEMsV0FBY0EsR0FFbEJNLFFBQVcsU0FBVUMsR0FDTSxNQUFuQkEsRUFBYSxPQUNUQyxFQUFNRCxFQUFhLEtBQU8sSUFDZmpCLEVBQUUscUJBQ1JLLElBQUlhLEdBQ2JsQixFQUFFLGFBQWFtQixhQUszQlIsU0FBU0MsS0FBSyxDQUNWQyxJQUFPLGVBQ1BDLEtBQVEsQ0FDSlIsT0FBVUEsRUFDVkUsUUFBV0EsUUFNM0JYLFdBQVdDLFVBQVVzQixvQkFBc0IsV0FFMUJwQixFQUFFLFlBRVJDLE1BQU0sV0FDVCxJQUFJb0IsRUFBTXJCLEVBQUVzQixNQUFNQyxTQUNkQyxFQUFRSCxFQUFJSSxLQUFLLGFBQ2pCQyxFQUFTTCxFQUFJSSxLQUFLLFdBRXRCRSxXQUFXLFdBQ1BDLE9BQU9DLFNBQVNDLFVBQ2pCLEtBRUhILFdBQVcsV0FDUGhCLFNBQVNDLEtBQUssQ0FDVkMsSUFBTyxpQkFDUEMsS0FBUSxDQUNKVSxNQUFTQSxFQUNURSxPQUFVQSxHQUVkVixRQUFXLFNBQVVDLEdBQ00sTUFBbkJBLEVBQWEsTUFDYlcsT0FBT0csV0FBV0MsWUFBWSxpQkFJM0MsUUFNWG5DLFdBQVdDLFVBQVVtQyxJQUFNLFdBQ1pYLEtBQ052QixnQkFETXVCLEtBRU5GLHVCQUdUcEIsRUFBRSxZQUNtQixJQUFJSCxZQUNWb0MiLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
